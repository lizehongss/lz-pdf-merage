{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/components/page-turner/index.vue?1774","webpack:///./src/components/pdf-view/page.vue?fff2","webpack:///./src/App.vue?87d6","webpack:///./src/components/pdf-view/index.vue?18f3","webpack:///./src/components/page-turner/index.vue?7d9c","webpack:///src/components/page-turner/index.vue","webpack:///./src/components/page-turner/index.vue?1c50","webpack:///./src/components/page-turner/index.vue","webpack:///./src/components/pdf-view/page.vue?b6c5","webpack:///src/components/pdf-view/page.vue","webpack:///./src/components/pdf-view/page.vue?8cc7","webpack:///./src/components/pdf-view/page.vue","webpack:///./src/components/pdf-view/canvasDraw.js","webpack:///./src/components/pdf-view/mixinMerage.js","webpack:///./src/components/pdf-view/printPdf.js","webpack:///src/components/pdf-view/index.vue","webpack:///./src/components/pdf-view/index.vue?5687","webpack:///./src/components/pdf-view/index.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/pdf-view/index.vue?07fa"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","on","deleteChooseItem","_v","$event","handleAddSeal","handleAddDate","handleAddText","handleDownload","ref","attrs","pdfPath","staticRenderFns","style","pdfHeight","_s","loadingText","_e","errorText","isPdfError","isPdfLoading","handleMouseDown","pageRotate","currentPage","pdfWidth","saveRotate","handleFinishDraw","total","current","handleZoom","print","rotate","handleActions","class","enlargeClass","narrowClass","prevClass","first","second","nextClass","third","fourth","component","baseObj","x","y","width","height","isSelected","sealObj","image","url","textObj","font","text","isTransParent","DrawObj","canvas","scaleX","scaleY","_canvas","_bindEvent","_drawItemList","_current","_moveIndex","_isDragging","_clickObj","_ctx","getContext","_clickToAdd","_scaleX","_scaleY","addEventListener","_canvasMoouseDown","_canvasMouseUp","_canvasMouseMove","_canvasMouseOut","_canvasClick","offsetX","offsetY","clickItem","setPos","parseInt","drawItemList","clickX","clickY","rightX","bottomY","assign","from","to","Math","floor","random","item","img","Image","crossOrigin","ctx","drawItem","drawImage","fillStyle","fillRect","textBaseline","fillText","setLineDash","strokeRect","drawStroke","crashCanvas","scale","_drawImage","_drawText","_drawStroke","clearRect","pos","_addImageProcess","_randomFromTo","sealItem","measureText","parseFloat","replace","textItem","_addTextBase","dateObj","date","dateArray","split","deleteIndex","findIndex","filter","canvasArray","baseCanvasImages","methods","getTheMeragePdf","pdf","jsPDF","getThePdfImages","pdfImages","imageObj","addImage","drawCanvas","getDrawCanvas","drawData","toDataURL","addPage","downLoadPdf","pdfObj","save","pdfToBase64","output","Array","fill","Infinity","$refs","page","drawPage","getPage","getBoundingClientRect","setDrawCanvas","getIsDragging","addSeal","deleteItem","addDate","fontSize","addText","allImg","printPdf","pdfImage","printWin","addImageProcess","imageObject","base64ImgSrc","body","then","removeElement","container","styleContent","innerHTML","getElementById","querySelector","removeChild","props","String","default","Number","mixins","mixinMerage","components","rotateArray","transform","clientX","clientY","beforeDestroy","cleanPrint","watch","index","JSON","parse","stringify","rotateLeft","rotateRight","_dragHandler","abs","xPos","yPos","_stopHandler","removeEventListener","self","computed","numPages","pdfContent","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.46dc981e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"pdfjsWorker\":\"pdfjsWorker\"}[chunkId]||chunkId) + \".\" + {\"chunk-2d216214\":\"02f52b64\",\"chunk-2d216257\":\"d9b65536\",\"chunk-70a2df70\":\"98994a8a\",\"pdfjsWorker\":\"7f82a706\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=b6b20aea&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pdf-main\"},[_c('div',{staticClass:\"pdf-operation\"},[_c('button',{on:{\"click\":_vm.deleteChooseItem}},[_vm._v(\"删除选择的项\")]),_c('button',{on:{\"click\":function($event){return _vm.handleAddSeal('random')}}},[_vm._v(\"随机位置盖章\")]),_c('button',{on:{\"click\":function($event){return _vm.handleAddSeal('click')}}},[_vm._v(\"点击位置盖章\")]),_c('button',{on:{\"click\":function($event){return _vm.handleAddDate('random', false)}}},[_vm._v(\"随机位置日期(不透明)\")]),_c('button',{on:{\"click\":function($event){return _vm.handleAddDate('click', true)}}},[_vm._v(\"点击位置日期(透明)\")]),_c('button',{on:{\"click\":function($event){return _vm.handleAddText('random', false)}}},[_vm._v(\"随机位置添加文字(不透明)\")]),_c('button',{on:{\"click\":function($event){return _vm.handleAddText('click', true)}}},[_vm._v(\"点击位置添加文字(透明)\")]),_c('button',{on:{\"click\":_vm.handleDownload}},[_vm._v(\"下载合成的pdf\")])]),_c('div',{staticClass:\"pdf-view\"},[_c('pdfView',{ref:\"pdfView\",attrs:{\"pdfPath\":_vm.pdfPath,\"pdfHeight\":900}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pdf-content\",style:({'height': _vm.pdfHeight + 'px'})},[(_vm.isPdfLoading)?_c('div',{staticClass:\"pdf-loading\"},[_c('span',{staticClass:\"loadingIcon\"}),_vm._v(\" \"+_vm._s(_vm.loadingText)+\" \")]):_vm._e(),(_vm.isPdfError)?_c('div',{staticClass:\"pdf-error\"},[_vm._v(_vm._s(_vm.errorText))]):_vm._e(),(!_vm.isPdfError && !_vm.isPdfLoading)?_c('div',{ref:\"pdfBody\",staticClass:\"pdf-body\",style:(_vm.pdfContent),on:{\"mousedown\":_vm.handleMouseDown}},[_c('canvas',{ref:\"drawCanvas\",staticClass:\"draw-canvas\"}),_c('Page',{ref:\"page\",attrs:{\"defaultRotate\":_vm.pageRotate,\"page\":_vm.currentPage,\"width\":_vm.pdfWidth - 25},on:{\"saveRotate\":_vm.saveRotate,\"drawFinish\":_vm.handleFinishDraw}})],1):_vm._e(),_c('PageTurner',{staticClass:\"page-turner\",attrs:{\"total\":_vm.total,\"current\":_vm.current},on:{\"handleZoom\":_vm.handleZoom,\"print\":_vm.print,\"rotate\":_vm.rotate,\"update:current\":function($event){_vm.current=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-turner\"},[_c('div',{staticClass:\"page-reset page-icon\",on:{\"click\":function($event){return _vm.handleActions('reset')}}}),_c('div',{staticClass:\"page-enlarge page-icon\",class:_vm.enlargeClass,on:{\"click\":function($event){return _vm.handleActions('zoomIn')}}}),_c('div',{staticClass:\"page-narrow page-icon\",class:_vm.narrowClass,on:{\"click\":function($event){return _vm.handleActions('zoomOut')}}}),_c('div',{staticClass:\"page-first page-icon\",class:_vm.prevClass,on:{\"click\":_vm.first}}),_c('div',{staticClass:\"page-second page-icon\",class:_vm.prevClass,on:{\"click\":_vm.second}}),_c('div',{staticClass:\"page-num page-icon\"},[_vm._v(_vm._s(_vm.current)+\"/\"+_vm._s(_vm.total))]),_c('div',{staticClass:\"page-third page-icon\",class:_vm.nextClass,on:{\"click\":_vm.third}}),_c('div',{staticClass:\"page-fourth page-icon\",class:_vm.nextClass,on:{\"click\":_vm.fourth}}),_c('div',{staticClass:\"page-anti-clockwise page-icon\",attrs:{\"title\":\"逆时钟旋转\"},on:{\"click\":function($event){return _vm.rotate('left')}}}),_c('div',{staticClass:\"page-clockwise page-icon\",attrs:{\"title\":\"顺时钟旋转\"},on:{\"click\":function($event){return _vm.rotate('right')}}}),_c('div',{staticClass:\"page-print page-icon\",attrs:{\"title\":\"打印\"},on:{\"click\":_vm.print}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page-turner\">\r\n        <div class=\"page-reset page-icon\" @click=\"handleActions('reset')\" ></div>\r\n        <div class=\"page-enlarge page-icon\" :class=\"enlargeClass\" @click=\"handleActions('zoomIn')\" ></div>\r\n        <div class=\"page-narrow page-icon\"  :class=\"narrowClass\" @click=\"handleActions('zoomOut')\" ></div>\r\n        <div class=\"page-first page-icon\" :class=\"prevClass\" @click=\"first\"></div>\r\n        <div class=\"page-second page-icon\" :class=\"prevClass\" @click=\"second\"></div>\r\n        <div class=\"page-num page-icon\">{{current}}/{{total}}</div>\r\n        <div class=\"page-third page-icon\" :class=\"nextClass\" @click=\"third\"></div>\r\n        <div class=\"page-fourth page-icon\" :class=\"nextClass\" @click=\"fourth\"></div>\r\n        <div class=\"page-anti-clockwise page-icon\" title=\"逆时钟旋转\"  @click=\"rotate('left')\"></div>\r\n        <div class=\"page-clockwise page-icon\" title=\"顺时钟旋转\" @click=\"rotate('right')\"></div>\r\n        <div class=\"page-print page-icon\" title=\"打印\" @click=\"print\"></div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props: {\r\n        current: {\r\n            type: Number\r\n        },\r\n        total: {\r\n            type: Number\r\n        },\r\n        scale: {\r\n            type: Number,\r\n            default: 4\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            setScale: 1\r\n        }\r\n    },\r\n    methods: {\r\n        print() {\r\n            this.$emit(\"print\")\r\n        },\r\n        rotate(val) {\r\n            this.$emit('rotate', val)\r\n        },\r\n        first() {\r\n            if (this.prevDisabled) return;\r\n            this.$emit(\"update:current\", 1);\r\n        },\r\n        second() {\r\n            if (this.prevDisabled) return;\r\n            this.$emit(\"update:current\", this.current - 1);\r\n        },\r\n        third() {\r\n            if (this.nextDisabled) return;\r\n            this.$emit(\"update:current\", this.current + 1);\r\n        },\r\n        fourth() {\r\n            if (this.nextDisabled) return;\r\n            this.$emit(\"update:current\", this.total);\r\n        },\r\n        handleActions(type) {\r\n            if (type === 'reset') {\r\n                this.setScale = 1\r\n            } else if (type === 'zoomIn') {\r\n                if(this.setScale === 4) return\r\n                this.setScale +=0.5\r\n            } else if(type === 'zoomOut') {\r\n                if(this.setScale === 0.5) return\r\n                this.setScale -=0.5\r\n            }\r\n            this.$emit(\"handleZoom\",this.setScale)    \r\n        },\r\n    },\r\n    computed: {\r\n        prevDisabled() {\r\n            return this.current <= 1;\r\n        },\r\n        nextDisabled() {\r\n            return this.current >= this.total;\r\n        },\r\n        prevClass() {\r\n            return {\r\n                    \"page-disabled\": this.prevDisabled\r\n                }\r\n        },\r\n        nextClass() {\r\n            return {\r\n                \"page-disabled\": this.nextDisabled\r\n            }\r\n        },\r\n        enlargeClass() {\r\n            return {\r\n                \"page-disabled\":   this.setScale>= this.scale\r\n            }\r\n        },\r\n        narrowClass() {\r\n            return {\r\n                 \"page-disabled\":  this.setScale <= .5\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n</script>\r\n<style>\r\n.page-turner{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    color: #fff;\r\n}\r\n.page-icon{\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 32px;\r\n    height: 32px;\r\n    margin: 0 10px;\r\n}\r\n.page-icon:hover{\r\n    cursor: pointer;\r\n\r\n}\r\n.page-disabled:hover{\r\n    cursor: not-allowed;\r\n}\r\n.page-num{\r\n    text-align: center;\r\n    font-size: 16px;\r\n    line-height: 36px;\r\n    width: 120px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n.page-reset{\r\n    background: url(\"../../images/reset.png\") no-repeat center center;\r\n\r\n}\r\n.page-reset:hover{\r\n    background: url(\"../../images/reset-hover.png\") no-repeat center center;\r\n}\r\n.page-enlarge{\r\n    background: url(\"../../images/enlarge.png\") no-repeat center center;\r\n}\r\n.page-enlarge:hover{\r\n    background: url(\"../../images/enlarge-hover.png\") no-repeat center center;\r\n\r\n}\r\n.page-narrow{\r\n    background: url(\"../../images/narrow.png\") no-repeat center center;\r\n\r\n}\r\n.page-narrow:hover{\r\n    background: url(\"../../images/narrow-hover.png\") no-repeat center center;\r\n\r\n}\r\n.page-first{\r\n    background: url(\"../../images/first.png\") no-repeat center center;\r\n\r\n}\r\n.page-first:hover{\r\n    background: url(\"../../images/first-hover.png\") no-repeat center center;\r\n\r\n}\r\n.page-second{\r\n    background: url(\"../../images/second.png\") no-repeat center center;\r\n\r\n}\r\n.page-second:hover{\r\n    background: url(\"../../images/second-hover.png\") no-repeat center center;\r\n}\r\n.page-third{\r\n    background: url(\"../../images/third.png\") no-repeat center center;\r\n\r\n}\r\n.page-third:hover{\r\n    background: url(\"../../images/third-hover.png\") no-repeat center center;\r\n\r\n}\r\n.page-fourth{\r\n    background: url(\"../../images/fourth.png\") no-repeat center center;\r\n}\r\n.page-fourth:hover{\r\n    background: url(\"../../images/fourth-hover.png\") no-repeat center center;\r\n}\r\n.page-print{\r\n    background: url(\"../../images/print.png\") no-repeat center center;\r\n\r\n}\r\n.page-print:hover{\r\n    background: url(\"../../images/print-hover.png\") no-repeat center center;\r\n\r\n}\r\n.page-anti-clockwise{\r\n    background: url(\"../../images/anti-clockwise.png\") no-repeat center center;\r\n\r\n}\r\n.page-anti-clockwise:hover{\r\n    background: url(\"../../images/anti-clockwise-hover.png\") no-repeat center center;\r\n\r\n}\r\n.page-clockwise{\r\n    background: url(\"../../images/clockwise.png\") no-repeat center center;\r\n\r\n}\r\n.page-clockwise:hover{\r\n    background: url(\"../../images/clockwise-hover.png\") no-repeat center center;\r\n\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=cfe0296c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('canvas',{ref:\"canvas\",staticClass:\"page-canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <canvas class=\"page-canvas\" ref=\"canvas\" />\r\n    </div>\r\n</template>\r\n<script>\r\n// pdf 放大值\r\nconst scales = { 1:3.2, 2: 4 }\r\nconst defaultScale = 3\r\n\r\nexport default {\r\n    props: {\r\n        width: {\r\n            type: Number,\r\n        },\r\n        page: {},\r\n        defaultRotate: {}\r\n    },\r\n    mounted() {\r\n        this.draw();\r\n    },\r\n    data() {\r\n        return {\r\n            rotate: this.defaultRotate,\r\n            pageContainer: null,\r\n            // scale: \r\n        }\r\n    },\r\n    watch: {\r\n        page() {\r\n            this.rotate = this.defaultRotate;\r\n            this.draw();\r\n        },\r\n        width(val) {\r\n            if (val) this.draw();\r\n        }\r\n    },\r\n    methods: {\r\n        async draw(widthScale = 1) {\r\n            if (!this.page) return;\r\n            let page = await this.page;\r\n            this.pageContainer = page;\r\n            let canvas = this.$refs.canvas;\r\n            let context = canvas.getContext('2d');\r\n            let scale = scales[window.devicePixelRatio] || defaultScale;\r\n            let viewport = page.getViewport(scale, this.rotate);\r\n            canvas.height = viewport.height;\r\n            canvas.width = viewport.width;\r\n            canvas.style.width = `${this.width * widthScale}px`\r\n            canvas.style.height = `${this.width/viewport.width * viewport.height * widthScale}px`;\r\n            let renderContext = {\r\n                canvasContext: context,\r\n                viewport: viewport\r\n            };\r\n            await page.render(renderContext);\r\n            this.$emit('drawFinish', canvas);\r\n        },\r\n        async drawPage(pdfPage) {\r\n            let page = await pdfPage\r\n            let canvas = document.createElement('canvas')\r\n            let context = canvas.getContext('2d')\r\n            let scale = scales[window.devicePixelRatio] || defaultScale;\r\n            let viewport = page.getViewport(scale, 0)\r\n            canvas.height = viewport.height\r\n            canvas.width = viewport.width\r\n            let renderContext = {\r\n                canvasContext: context,\r\n                viewport: viewport\r\n            }\r\n            await page.render(renderContext)\r\n            return {\r\n                url: canvas.toDataURL('image/jpeg'),\r\n                width: canvas.width,\r\n                height: canvas.height\r\n            }\r\n        },\r\n        rotateLeft() {\r\n            this.rotate += -90;\r\n            this.draw();\r\n            this.$emit('saveRotate', this.rotate)\r\n        },\r\n        rotateRight() {\r\n            this.rotate += 90;\r\n            this.draw();\r\n            this.$emit('saveRotate', this.rotate)\r\n        },\r\n        handleZoom(value) {\r\n            this.draw(value)\r\n\r\n        },\r\n        getBasePdfViewport() {\r\n            if (!this.pageContainer) return {};\r\n            return this.pageContainer.getViewport(1, 0);\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  display: inline-block;\r\n  height: auto;\r\n}\r\n\r\n.page-canvas {\r\n  display: block;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=b6b20aea&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=b6b20aea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6b20aea\",\n  null\n  \n)\n\nexport default component.exports","class baseObj {\r\n    constructor (x,y,width,height, type) {\r\n        this.x = x\r\n        this.y = y\r\n        this.width = width\r\n        this.height = height\r\n        this.type = type\r\n        this.isSelected = false\r\n    }\r\n    setPos(x,y) {\r\n        this.x = x\r\n        this.y = y\r\n    }\r\n}\r\n\r\nclass sealObj extends baseObj {\r\n    constructor(x, y,image) {\r\n        super(x, y, image.width,image.height, 'image')\r\n        this.url = image.src\r\n        this.image = image\r\n    }\r\n}\r\nclass textObj extends baseObj {\r\n    constructor(x, y, width, height, font,text, isTransParent = false) {\r\n        super(x,y,width,height,'text')\r\n        this.font = font\r\n        this.text = text\r\n        this.isTransParent = isTransParent\r\n    }\r\n}\r\n\r\nexport default class DrawObj {\r\n    constructor (canvas, current, scaleX, scaleY) {\r\n        this._canvas = canvas\r\n        this._bindEvent()\r\n        this._drawItemList=[]\r\n        this._current = current\r\n        this._moveIndex = -1\r\n        this._isDragging = false\r\n        this._clickObj = {}\r\n        this._ctx = this._canvas.getContext('2d')\r\n        this._clickToAdd= []\r\n        this._scaleX = scaleX\r\n        this._scaleY = scaleY\r\n    }\r\n    _bindEvent() {\r\n        this._canvas.addEventListener('mousedown', (e) => {this._canvasMoouseDown(e)})\r\n        this._canvas.addEventListener('mouseup', (e) => {this._canvasMouseUp(e)})\r\n        this._canvas.addEventListener('mousemove', (e) => { this._canvasMouseMove(e) })\r\n        this._canvas.addEventListener('mouseout', (e) => { this._canvasMouseOut(e) })\r\n        this._canvas.addEventListener('click', (e) => { this._canvasClick(e) })\r\n    }\r\n    _canvasClick(e) {\r\n        if(this._clickToAdd.length === 0) return\r\n        let x  = e.offsetX\r\n        let y = e.offsetY\r\n        for(let i = 0; i < this._clickToAdd.length; i++) {\r\n            let clickItem = this._clickToAdd[i]\r\n            clickItem.setPos(x - clickItem.width/2, y - clickItem.height/2)\r\n            // 防止重叠\r\n            if (x + clickItem.width + 20  <  parseInt(this._canvas.style.width)) {\r\n                x = x + clickItem.width + 20\r\n            }\r\n            this._drawItemList.push(clickItem)\r\n        }\r\n        this.drawItemList()\r\n        this._clickToAdd = []\r\n    }\r\n    _canvasMoouseDown(e) {\r\n        let clickX = e.offsetX\r\n        let clickY = e.offsetY\r\n        // 查找是否在范围内\r\n        for (let i = 0; i < this._drawItemList.length; i++) {\r\n            let { x , y , width, height } = this._drawItemList[i]\r\n            let rightX = x + width\r\n            let bottomY = y + height\r\n            if (clickX < x || clickX > rightX) continue\r\n            if ( clickY < y || clickY > bottomY ) continue\r\n            if (this._moveIndex != -1 ) {\r\n                this._drawItemList[this._moveIndex].isSelected = false\r\n            }\r\n            this._moveIndex  = i\r\n            this._drawItemList[i].isSelected = true\r\n            this._isDragging = true \r\n            this._clickObj = { clickX, clickY }\r\n            this.drawItemList()\r\n            return\r\n        }\r\n    }\r\n    _canvasMouseUp() {\r\n        this._isDragging = false\r\n    }\r\n    _canvasMouseMove(e) {\r\n        if (!this._isDragging) return\r\n        if (this._moveIndex === -1) return\r\n        let {  clickX, clickY  } = this._clickObj\r\n        let offsetX = e.offsetX - clickX\r\n        let offsetY = e.offsetY - clickY\r\n        let { x, y  } = this._drawItemList[this._moveIndex] \r\n        this._drawItemList[this._moveIndex] = Object.assign(this._drawItemList[this._moveIndex],{\r\n            x: x + offsetX,\r\n            y: y + offsetY\r\n        })\r\n        this._clickObj = {clickX: e.offsetX,clickY: e.offsetY }\r\n        this.drawItemList()\r\n    }\r\n    _canvasMouseOut() {\r\n        this._isDragging = false\r\n\r\n    }\r\n    _randomFromTo(from, to) {\r\n        return Math.floor(Math.random() * (to - from + 1) + from)\r\n    }\r\n    _addImageProcess(item){\r\n        if (!item.url) return null\r\n        return new Promise((resolve, reject) => {\r\n            let img = new Image(item.width, item.height)\r\n            img.crossOrigin =  'anonymous'\r\n            img.onload = () => resolve(img)\r\n            img.onerror = reject\r\n            img.src = item.url\r\n        })\r\n    }\r\n    // 绘制图片\r\n    _drawImage(ctx,drawItem) {\r\n        ctx.drawImage(drawItem.image, drawItem.x, drawItem.y,drawItem.width, drawItem.height)\r\n    }\r\n    // 绘制文字\r\n    _drawText(ctx,drawItem) {\r\n        if (!drawItem.isTransParent) {\r\n            ctx.fillStyle = \"#fff\"\r\n            ctx.fillRect(drawItem.x, drawItem.y,drawItem.width, drawItem.height)\r\n            ctx.fillStyle = \"#000\"\r\n        }\r\n        ctx.font = drawItem.font\r\n        ctx.textBaseline = 'top';\r\n        ctx.fillText(drawItem.text, drawItem.x, drawItem.y)\r\n    }\r\n    // 绘制虚线\r\n    _drawStroke(ctx, drawItem) {\r\n        ctx.setLineDash([5,5])\r\n        ctx.strokeRect(drawItem.x, drawItem.y,drawItem.width, drawItem.height)\r\n    }\r\n    // 获取是否正在移动中\r\n    getIsDragging() {\r\n        return this._isDragging\r\n    }\r\n    drawItemList(drawStroke = true) {\r\n        // 解决闪烁问题\r\n        let crashCanvas = document.createElement('canvas')\r\n        crashCanvas.width = this._canvas.width\r\n        crashCanvas.height = this._canvas.height\r\n        let ctx = crashCanvas.getContext('2d')\r\n        ctx.scale(this._scaleX, this._scaleY)\r\n        for(let i = 0 ; i <this._drawItemList.length; i++) {\r\n            let drawItem = this._drawItemList[i]\r\n            if (drawItem.type === 'image') {\r\n                this._drawImage(ctx,drawItem)\r\n            } else if (drawItem.type === 'text') {\r\n                this._drawText(ctx,drawItem)\r\n            }\r\n            if (drawItem.isSelected && drawStroke) {\r\n                this._drawStroke(ctx,drawItem)\r\n            }\r\n        }\r\n        this._ctx.clearRect(0,0, this._canvas.width, this._canvas.height)\r\n        this._ctx.drawImage(crashCanvas,0,0)\r\n    }\r\n    // 添加图片\r\n    async addSeal({width = 480, height = 480, url, pos='random'}) {\r\n        if (!url) {\r\n            throw('请传入图片url')\r\n        }\r\n        let image = await this._addImageProcess({url, width,height})\r\n        let x = this._randomFromTo(0,parseInt(this._canvas.style.width))\r\n        let y = this._randomFromTo(0, parseInt(this._canvas.style.height))\r\n        let sealItem = new sealObj(x, y, image)\r\n        if (pos === 'random') this._drawItemList.push(sealItem)\r\n        if (pos === 'click')  this._clickToAdd.push(sealItem)\r\n        if (pos === 'random')this.drawItemList()\r\n    }\r\n    _addTextBase({x,y, text, font, pos=\"random\",isTransParent}) {\r\n        this._ctx.font = font\r\n        let width = this._ctx.measureText(text).width\r\n        let height = parseFloat(font.replace(/[^0-9]/ig, ''))\r\n        let textItem = new textObj(x, y,width, height, font, text, isTransParent)\r\n        if (pos === 'random') this._drawItemList.push(textItem)\r\n        if (pos === 'click') this._clickToAdd.push(textItem)\r\n        return textItem\r\n    }\r\n    // 添加文字\r\n    addText(textObj) {\r\n        if (!textObj.text) {\r\n            throw('请输入文字')\r\n        }\r\n        let x = this._randomFromTo(0, parseInt(this._canvas.style.width))\r\n        let y = this._randomFromTo(0, parseInt(this._canvas.style.height))\r\n        this._addTextBase({ ...textObj, x,y })\r\n        if (textObj.pos === 'random') this.drawItemList()\r\n    }\r\n    // 添加日期\r\n    addDate(dateObj) {\r\n        if (!dateObj.date) {\r\n            throw('请选择日期')\r\n        }\r\n        let dateArray = dateObj.date.split(' ')\r\n        let x = this._randomFromTo(0, parseInt(this._canvas.style.width))\r\n        let y = this._randomFromTo(0, parseInt(this._canvas.style.height))\r\n        for(let i = 0; i < dateArray.length; i++) {\r\n            let textItem = this._addTextBase({...dateObj, x, y, text: dateArray[i] })\r\n            if (x + textItem.width +  20 <  parseInt(this._canvas.style.width)) {\r\n                x = x + textItem.width +  20 \r\n            }\r\n        }\r\n        if (dateObj.pos === 'random') this.drawItemList()\r\n    }\r\n    getDrawItemList() {\r\n        return this._drawItemList\r\n    }\r\n    getDrawCanvas() {\r\n        this.drawItemList(false)\r\n        return this._canvas\r\n    }\r\n    deleteChooseItem() {\r\n        let deleteIndex = this._drawItemList.findIndex(item => item.isSelected)\r\n        if (deleteIndex === this._moveIndex) this._moveIndex = -1\r\n        this._drawItemList = this._drawItemList.filter(item => !item.isSelected)\r\n        this.drawItemList()\r\n    }\r\n}","import { jsPDF } from \"jspdf\"\r\nimport DrawObj from './canvasDraw'\r\nexport default {\r\n  data() {\r\n    return {\r\n      canvasArray: [],\r\n      baseCanvasImages: [] // use the crash\r\n    }\r\n  },\r\n  methods: {\r\n    async getTheMeragePdf() {\r\n      const pdf = new jsPDF('p', 'pt', 'a4')\r\n      let pdfImages = await this.getThePdfImages()\r\n      for(let i = 0; i< pdfImages.length; i++) {\r\n        let imageObj = pdfImages[i]\r\n        pdf.addImage(imageObj.url, 'JPEG', 0,0, 592.28, 592.28/imageObj.width * imageObj.height)\r\n        if(this.canvasArray[i]) {\r\n          let drawCanvas = this.canvasArray[i].getDrawCanvas()\r\n          const drawData = drawCanvas.toDataURL('image/png')\r\n          pdf.addImage(drawData, 'PNG', 0,0, 592.28, 592.28/drawCanvas.width * drawCanvas.height)\r\n        }\r\n        if (i < pdfImages.length - 1) pdf.addPage() \r\n      }\r\n      return pdf\r\n    },\r\n    async downLoadPdf(name=\"pdf合成\") {\r\n      let pdfObj = await this.getTheMeragePdf()\r\n      pdfObj.save(name)\r\n    },\r\n    async pdfToBase64() {\r\n      let pdfObj = await this.getTheMeragePdf()\r\n      return pdfObj.output('datauristring')\r\n    },\r\n    async getThePdfImages() {\r\n      let pdfImages = Array(this.total).fill(Infinity)\r\n      for(let i = 0; i<pdfImages.length; i++) {\r\n        // use the canvas after the user operation\r\n        if(this.baseCanvasImages[i]){\r\n          pdfImages[i] = this.baseCanvasImages[i]\r\n        } else {\r\n          pdfImages[i] = await this.$refs.page.drawPage(this.pdf.getPage(i+1))\r\n        }\r\n      }\r\n      return pdfImages\r\n    },\r\n    handleFinishDraw(canvas){\r\n      let current = this.current - 1\r\n      this.baseCanvasImages[current] = {\r\n        url: canvas.toDataURL('image/jpeg'),\r\n        width: canvas.width,\r\n        height: canvas.height\r\n      }\r\n      if (!this.canvasArray[current]) {\r\n        let { width, height } = canvas.getBoundingClientRect()\r\n        let drawCanvas = this.setDrawCanvas(canvas)\r\n        this.canvasArray[current] = new DrawObj(drawCanvas, current, canvas.width/width, canvas.height/height)\r\n      }\r\n      this.canvasArray[current].drawItemList()\r\n    },\r\n    setDrawCanvas(canvas) {\r\n      let drawCanvas = this.$refs.drawCanvas\r\n      drawCanvas.width = canvas.width\r\n      drawCanvas.height = canvas.height\r\n      drawCanvas.style.width = canvas.style.width\r\n      drawCanvas.style.height = canvas.style.height\r\n      // drawCanvas.style.top = `${canvas.offsetTop}px`\r\n      // drawCanvas.style.left = `${canvas.offsetLeft}px`\r\n      return drawCanvas\r\n    },\r\n    getIsDragging() {\r\n      let current = this.current - 1\r\n      return this.canvasArray[current].getIsDragging()\r\n    },\r\n    addSeal({pos=\"random\", width,height, url}) {\r\n          let current = this.current - 1\r\n          this.canvasArray[current].addSeal({\r\n              width,\r\n              height,\r\n              url,\r\n              pos\r\n          })\r\n    },\r\n    deleteItem() {\r\n          let current = this.current - 1\r\n          this.canvasArray[current].deleteChooseItem()\r\n    },\r\n    addDate({pos=\"random\", date, isTransParent, fontSize}) {\r\n      if (this.date === null) {\r\n        throw('请选择日期插入')\r\n      }\r\n      let current = this.current - 1\r\n      this.canvasArray[current].addDate({\r\n              date,\r\n              isTransParent,\r\n              font: `${fontSize}px serif`,\r\n              pos\r\n          })\r\n    },\r\n    addText({pos = 'random', text, isTransParent, fontSize}) {\r\n      let current = this.current - 1\r\n      this.canvasArray[current].addText({\r\n        text,\r\n        isTransParent,\r\n        font: `${fontSize}px serif`,\r\n        pos\r\n      })\r\n    },\r\n  }\r\n\r\n}","let allImg = []\r\nexport default async function printPdf(pdfImage, canvasArray){\r\n    let printWin = await createElement()\r\n    for(let i = 0; i<pdfImage.length; i++) {\r\n        let canvas = document.createElement('canvas')\r\n        canvas.width = pdfImage[i].width\r\n        canvas.height = pdfImage[i].height\r\n        let imageObject = await addImageProcess(pdfImage[i])\r\n        canvas.getContext('2d').drawImage(imageObject, 0,0,canvas.width,canvas.height)\r\n        if(canvasArray[i]) {\r\n            canvas.getContext('2d').drawImage(canvasArray[i].getDrawCanvas(), 0,0,canvas.width,canvas.height)\r\n        }\r\n        let base64ImgSrc = canvas.toDataURL(\"image/png\")\r\n        const img = document.createElement(\"img\")\r\n        img.src = base64ImgSrc\r\n        allImg.push(new Promise((resolve) => {\r\n            img.onload = () => {\r\n                printWin.appendChild(img)\r\n                resolve()\r\n            }\r\n        }))\r\n    }\r\n    document.body.appendChild(printWin);\r\n    Promise.all(allImg).then(() => {\r\n        window.print();\r\n        removeElement()\r\n            \r\n    })\r\n}\r\nasync function addImageProcess(item) {\r\n    if(!item.url) return null\r\n    return new Promise((resolve, reject) => {\r\n        let img = new Image(item.width, item.height)\r\n        img.crossOrigin = 'anonymous',\r\n        img.onload = () => resolve(img)\r\n        img.onerror = reject\r\n        img.src = item.url\r\n    })\r\n}\r\nasync function createElement () {\r\n    let container = document.createElement(\"div\")\r\n    container.setAttribute(\"id\", \"print-container\")\r\n    let styleContent =`\r\n    #print-container {\r\n        display: none;\r\n    }\r\n    @supports ((size:A4) and (size:1pt 1pt)) {\r\n        @page { \r\n            size: 592.28pt 841.89pt; \r\n        }\r\n    }\r\n    @media print {\r\n        body > :not(.print-container) {\r\n            display: none;\r\n        }\r\n        html,\r\n        body {\r\n            margin: 0;\r\n            display: block !important;\r\n        }\r\n\r\n        #print-container {\r\n            width: 100%\r\n            height: 100%;\r\n            display: block !important ;\r\n            overflow: visible;\r\n            page-break-after: always;\r\n            page-break-inside: avoid;\r\n        }\r\n        #print-container img {\r\n            width: 100%\r\n        }\r\n    }\r\n    @media screen {\r\n        body{\r\n            margin:0\r\n        }\r\n    }\r\n    `\r\n    let style = document.createElement(\"style\");\r\n    style.innerHTML = styleContent;\r\n    container.appendChild(style)\r\n    return container\r\n}\r\nfunction removeElement() {\r\n    let p = document.getElementById('print-container');\r\n    if (p) {\r\n        document.querySelector('body').removeChild(p);\r\n    }\r\n}","<template>\r\n  <div class=\"pdf-content\" :style=\"{'height': pdfHeight + 'px'}\">\r\n    <div v-if=\"isPdfLoading\" class=\"pdf-loading\">\r\n      <span class=\"loadingIcon\"></span>\r\n      {{ loadingText }}\r\n    </div>\r\n    <div v-if=\"isPdfError\" class=\"pdf-error\">{{errorText}}</div>\r\n    <div class=\"pdf-body\" ref=\"pdfBody\" :style=\"pdfContent\" @mousedown=\"handleMouseDown\"  v-if=\"!isPdfError && !isPdfLoading\">\r\n      <canvas class=\"draw-canvas\" ref=\"drawCanvas\"></canvas>\r\n      <Page ref=\"page\" :defaultRotate=\"pageRotate\" :page=\"currentPage\" :width=\"pdfWidth - 25\" @saveRotate=\"saveRotate\" @drawFinish=\"handleFinishDraw\"></Page>\r\n    </div>\r\n    <PageTurner class=\"page-turner\" @handleZoom=\"handleZoom\" @print=\"print\" @rotate=\"rotate\" :total=\"total\" :current.sync=\"current\"></PageTurner>\r\n  </div>\r\n</template>\r\n<script>\r\nimport PageTurner from \"../page-turner\";\r\nimport Page from \"./page\";\r\nimport Pdfjs from 'pdfjs-dist';\r\nimport mixinMerage from './mixinMerage'\r\nimport printPdf from './printPdf'\r\nexport default {\r\n  props: {\r\n    pdfPath: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    pdfHeight: {\r\n      type: Number,\r\n    },\r\n    pdfWidth: {\r\n      type: Number,\r\n      default: 1200,\r\n    },\r\n    loadingText: {\r\n      type: String,\r\n      default: \"正在加载中\",\r\n    },\r\n    errorText: {\r\n      type: String,\r\n      default: '加载PDF失败'\r\n    }\r\n  },\r\n  mixins: [mixinMerage],\r\n  components: { Page, PageTurner },\r\n  data() {\r\n    return {\r\n      current: 1,\r\n      rotateArray: [],\r\n      isPdfLoading: false,\r\n      pdf: null,\r\n      transform: {\r\n        clientX: 0,\r\n        clientY: 0,\r\n      },\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.getPdfData();\r\n  },\r\n  beforeDestroy() {\r\n    this.cleanPrint();\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    async print() {\r\n      if (this.total === 0) return 0;\r\n      let pdfImage = await this.getThePdfImages()\r\n      printPdf(pdfImage, this.canvasArray)\r\n    },\r\n    saveRotate(rotate) {\r\n      let index = this.rotateArray.findIndex(\r\n        (it) => it.current === this.current\r\n      );\r\n      if (index != -1) {\r\n        this.rotateArray[index].rotate = rotate;\r\n      } else {\r\n        this.rotateArray.push({\r\n          current: JSON.parse(JSON.stringify(this.current)),\r\n          rotate: rotate,\r\n        });\r\n      }\r\n    },\r\n    rotate(type) {\r\n      if (type === \"left\") this.$refs.page.rotateLeft();\r\n      if (type === \"right\") this.$refs.page.rotateRight();\r\n    },\r\n    cleanPrint() {\r\n      let p = document.getElementById(\"printContainer\");\r\n      if (p) {\r\n        document.querySelector(\"body\").removeChild(p);\r\n      }\r\n    },\r\n    handleZoom(value) {\r\n      this.$refs.page.handleZoom(value);\r\n    },\r\n    handleMouseDown(e) {\r\n      if (this.getIsDragging()) return\r\n      this.transform = {\r\n        clientX: e.clientX,\r\n        clientY: e.clientY,\r\n      };\r\n      let self = this;\r\n      this._dragHandler = (e) => {\r\n        const { clientX, clientY } = this.transform;\r\n        let { scrollTop, scrollLeft } = this.$refs.pdfBody;\r\n        let xPos = e.clientX - clientX;\r\n        let yPos = e.clientY - clientY;\r\n        if (Math.abs(xPos) > 20) {\r\n          this.$refs.pdfBody.scrollLeft =\r\n            scrollLeft - (xPos > 0 ? 20 : -20);\r\n        }\r\n        if (Math.abs(yPos) > 20) {\r\n          this.$refs.pdfBody.scrollTop =\r\n            scrollTop - (yPos > 0 ? 20 : -20);\r\n        }\r\n      }\r\n      this._stopHandler = () => {\r\n        window.removeEventListener(\"mousemove\", self._dragHandler);\r\n        window.removeEventListener(\"mouseup\", self._stopHandler);\r\n      };\r\n      window.addEventListener(\"mousemove\", self._dragHandler);\r\n      window.addEventListener(\"mouseup\", self._stopHandler);\r\n    },\r\n    async getPdfData() {\r\n      let { pdfPath } = this;\r\n      this.isPdfLoading = true;\r\n      this.pdf = await Pdfjs.getDocument({\r\n        url: pdfPath,\r\n      });\r\n      this.isPdfLoading = false;\r\n    },\r\n  },\r\n  computed: {\r\n    total() {\r\n      return this.pdf ? this.pdf.numPages : 0;\r\n    },\r\n    currentPage() {\r\n      return this.pdf ? this.pdf.getPage(this.current) : null;\r\n    },\r\n    pageRotate() {\r\n      let item = this.rotateArray.find((it) => it.current === this.current);\r\n      return item ? item.rotate : 0;\r\n    },\r\n    isPdfError() {\r\n      if (!this.pdfPath) return true;\r\n      if (this.isPdfLoading) return false;\r\n      return this.pdf ? false : true;\r\n    },\r\n    pdfContent() {\r\n      return {\r\n        width: this.pdfWidth + 'px',\r\n        height: this.pdfHeight + 'px',\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.pdf-content{\r\n  position: relative;\r\n}\r\n.pdf-body{\r\n  overflow: auto;\r\n  text-align: center;\r\n  position: relative;\r\n}\r\n.pdf-loading{\r\n  position: relative;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  color: #579fff;\r\n  text-align: center;\r\n  \r\n}\r\n.pdf-error{\r\n\r\n}\r\n.loadingIcon{\r\n    display: inline-block;\r\n    margin-right: 10px;\r\n    width: 8px;\r\n    height: 8px;\r\n    border: 2px solid;\r\n    border-radius: 100%;\r\n    border-right-color: transparent;\r\n    animation: loading 1s ease-in-out infinite;\r\n}\r\n.page-turner{\r\n\theight: 30px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\twidth: 700px;\r\n\tleft: 50%;\r\n\ttransform: translate(-350px);\r\n  opacity: 0.6;\r\n  background: #000000;\r\n  border-radius: 4px 4px 0px 0px;\r\n  z-index: 11;\r\n}\r\n.draw-canvas{\r\n  position: absolute;\r\n  z-index: 10;\r\n}\r\n@keyframes loading {\r\n    0% {\r\n        transform: rotate(0);\r\n    }\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=35e39976&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"pdf-main\">\r\n    <div class=\"pdf-operation\">\r\n      <button @click=\"deleteChooseItem\">删除选择的项</button>\r\n      <button @click=\"handleAddSeal('random')\">随机位置盖章</button>\r\n      <button @click=\"handleAddSeal('click')\">点击位置盖章</button>\r\n      <button @click=\"handleAddDate('random', false)\">随机位置日期(不透明)</button>\r\n      <button @click=\"handleAddDate('click', true)\">点击位置日期(透明)</button>\r\n      <button @click=\"handleAddText('random', false)\">随机位置添加文字(不透明)</button>\r\n      <button @click=\"handleAddText('click', true)\">点击位置添加文字(透明)</button>\r\n      <button @click=\"handleDownload\">下载合成的pdf</button>\r\n    </div>\r\n    <div class=\"pdf-view\">\r\n      <pdfView :pdfPath='pdfPath' :pdfHeight=\"900\" ref=\"pdfView\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pdfView from './components/pdf-view'\r\nexport default {\r\n    data(){\r\n      return {\r\n        pdfPath: './test.pdf'\r\n      }\r\n    },\r\n    components:{\r\n        pdfView\r\n    },\r\n    methods: {\r\n      handleAddSeal(pos) {\r\n        this.$refs.pdfView.addSeal({\r\n          pos,\r\n          width: 200,\r\n          height: 200,\r\n          url: './seal.png'\r\n        })\r\n      },\r\n      handleAddDate(pos, isTransParent) {\r\n        this.$refs.pdfView.addDate({\r\n          pos,\r\n          date: '2109 09 18',\r\n          fontSize: 24,\r\n          isTransParent,\r\n        })\r\n      },\r\n      handleAddText(pos, isTransParent) {\r\n        this.$refs.pdfView.addText({\r\n          pos,\r\n          isTransParent,\r\n          fontSize: 24,\r\n          text: '样例展示'\r\n        })\r\n      },\r\n      deleteChooseItem() {\r\n        this.$refs.pdfView.deleteItem()\r\n      },\r\n      handleDownload() {\r\n        this.$refs.pdfView.downLoadPdf('合成pdf')\r\n      }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.pdf-view{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\nbutton{\r\n  cursor: pointer;\r\n  margin: 5px;\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2d596b04&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}